<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Boolean</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{
      --hero-gap: clamp(12px, 3vw, 28px);
      --brand-stops: #ff00ff, #00ffff, #ff0099, #00ffcc; /* shared hero/footer palette */
    }

    html, body { margin:0; padding:0; height:100%; }
    body {
      background:#000;
      overflow-x:hidden;
      display:flex;
      flex-direction:column;
      min-height:100vh;
      color:#fff;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }

    /* Background */
    .neon-bg {
      position:fixed; inset:0;
      background:
        radial-gradient(circle at bottom, rgba(0,0,0,0) 40%, #000 90%),
        linear-gradient(120deg, var(--brand-stops));
      background-size:300% 300%;
      animation: neonMove 15s ease infinite;
      z-index:-2;
    }
    @keyframes neonMove { 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} }

    /* Lines fixed & clipped so they don't extend page height */
    .neon-lines { position:fixed; inset:0; overflow:hidden; pointer-events:none; z-index:-1; }
    .neon-lines::before, .neon-lines::after{
      content:""; position:absolute; left:-10%; bottom:-10%;
      width:140%; height:140%;
      background:repeating-linear-gradient(90deg, rgba(255,255,255,0.05) 0 2px, transparent 2px 8px);
      transform:rotate(-10deg); animation:moveLines 20s linear infinite;
    }
    .neon-lines::after{ animation-direction:reverse; opacity:.6; }
    @keyframes moveLines{ from{transform:translateX(0) rotate(-10deg)} to{transform:translateX(-200px) rotate(-10deg)} }

    /* Footer themed (darker but matching hero palette) */
    .footer-themed{
      position:relative;
      width:100%;
      background: linear-gradient(120deg, var(--brand-stops));
      background-size:300% 300%;
      animation: neonMove 20s ease infinite;
      color:#d1d5db;
      text-align:center;
    }
    .footer-themed::before{
      content:""; position:absolute; inset:0;
      background: rgba(0,0,0,.72); /* darker overlay for contrast */
      box-shadow: inset 0 1px 0 rgba(255,255,255,.06); /* soft top separator */
      pointer-events:none;
    }
    .footer-themed > *{ position:relative; z-index:1; }

    /* Spacing */
    .logo-gap { margin-bottom: var(--hero-gap); }

    /* Interactions */
    .footer-email{ transition:.3s all }
    .footer-email:hover{ color:#38bdf8; text-shadow:0 0 10px #38bdf8,0 0 20px #38bdf8 }
    .glow-active{ color:#38bdf8 !important; text-shadow:0 0 10px #38bdf8,0 0 20px #38bdf8 !important }
    .button-neon{ transition:.3s all, .3s box-shadow }
    .button-neon:hover{ background:#fff; color:#000; box-shadow:0 0 10px #00ffff, 0 0 20px #ff00ff; transform:scale(1.05) }
  </style>
</head>
<body class="text-white font-sans relative">
  <!-- Static background layers -->
  <div class="neon-bg"></div>
  <div class="neon-lines"></div>

  <!-- Separate roots so footer isn’t trapped in the centered container -->
  <div id="hero-root" class="flex-1 flex items-center justify-center text-center px-6">
    <noscript>
      <div class="max-w-xl mx-auto py-12">
        <img src="booleanlogo-cropped.png" alt="Boolean Logo" class="mx-auto mb-4" />
        <h1 class="text-2xl font-bold mb-2">Innovating with Logic</h1>
        <p class="text-gray-300">Enable JavaScript to view the full experience.</p>
      </div>
    </noscript>
  </div>

  <div id="footer-root"></div>

  <script>
    /* ================= A) RUNTIME INJECTION (string assembly) ================= */
    function buildHeroHTML(){
      const open  = '<main class="w-full"><div class="relative z-10">';
      const logo  = '<img src="booleanlogo-cropped.png" alt="Boolean Logo" class="logo-gap block mx-auto w-3/4 max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg xl:max-w-xl">';
      const canvas= '<canvas id="heroCanvas" width="1400" height="220" style="display:block; margin:0 auto var(--hero-gap);"></canvas>';
      const para  = '<p class="text-gray-200 max-w-xl mb-6 mx-auto">Boolean is a technology-driven company focused on building simple, scalable, and elegant solutions for the digital age.</p>';
      const btn   = '<button onclick="activateFooterGlow()" class="button-neon bg-white text-black px-6 py-3 rounded-full font-semibold hover:bg-gray-200 transition">Get in Touch</button>';
      const close = '</div></main>';
      return [open, logo, canvas, para, btn, close].join('');
    }

    function buildFooterHTML(){
      return (
        '<footer class="footer-themed py-6 relative z-10">' +
          '<div class="space-y-2">' +
            '<p class="mt-2"><a id="footer-email" href="mailto:info@boolean.mv" class="footer-email text-white font-semibold">info@boolean.mv</a></p>' +
            '<p class="mt-2">TAX ID: <span class="text-white">1067568</span></p>' +
            '<p>Reg No: <a target="_blank" class="text-blue-100 hover:underline" href="https://business.egov.mv/BusinessRegistry/ViewDetails/137139?key=-1439531899">C-0567/2016</a></p>' +
          '</div>' +
          '<p class="mt-5">&copy; 2025 Boolean. All rights reserved.</p>' +
        '</footer>'
      );
    }

    // Mount hero (centered) and footer (full-width, bottom)
    (function mount(){
      const heroRoot = document.getElementById('hero-root');
      const footerRoot = document.getElementById('footer-root');
      if (heroRoot)  heroRoot.insertAdjacentHTML('beforeend', buildHeroHTML());
      if (footerRoot) footerRoot.innerHTML = buildFooterHTML();
    })();

    // Glow handler
    window.activateFooterGlow = function(){
      const el = document.getElementById('footer-email');
      if (!el) return;
      el.classList.add('glow-active');
      setTimeout(()=>el.classList.remove('glow-active'),1500);
    };

    /* ================= B) CANVAS HEADING (no DOM text node) ================= */
 function drawHero(){
    const c = document.getElementById('heroCanvas');
    if (!c) return;

    // Measure the displayed logo width
    const logo = document.querySelector('#hero-root img[alt="Boolean Logo"]');
    const fallbackW = Math.min(window.innerWidth * 0.85, 1400);
    const logoW = logo?.getBoundingClientRect().width || fallbackW;

    // Canvas width follows logo width; height scales from it
    const w = Math.max(280, Math.min(logoW, 1400));
    const h = Math.max(72, Math.min(160, w * 0.14));  // tweak 0.14 → 0.12 or 0.16 if you want smaller/bigger

    c.width = w;
    c.height = h;
    c.style.width = w + 'px';
    c.style.height = h + 'px';

    const ctx = c.getContext('2d');
    const text = "Innovating with Logic";

    // Fit text to one line (no wrap), starting slightly under canvas height
    let size = Math.floor(h * 0.62);
    const fontStack = "Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial";
    ctx.textAlign = "center";
    ctx.textBaseline = "middle";

    do {
      ctx.font = `${size}px ${fontStack}`;
      size--;
    } while (ctx.measureText(text).width > w * 0.98 && size > 14);

    // Draw: subtle glow passes + solid white
    ctx.clearRect(0,0,w,h);
    for (let i=4;i>=2;i--){
      ctx.fillStyle = "rgba(255,255,255,0.18)";
      ctx.shadowColor = "rgba(255,255,255,0.35)";
      ctx.shadowBlur = i * 4;
      ctx.fillText(text, w/2, h/2);
    }
    ctx.shadowBlur = 0;
    ctx.fillStyle = "#ffffff";
    ctx.fillText(text, w/2, h/2);
  }

  // Ensure we draw AFTER the hero is injected and the logo image is loaded
  function initHeroCanvas() {
    const logo = document.querySelector('#hero-root img[alt="Boolean Logo"]');

    const run = () => drawHero();

    if (logo && !logo.complete) {
      logo.addEventListener('load', run, { once: true });
    } else {
      run();
    }

    // Redraw on viewport resize
    window.addEventListener("resize", () => {
      clearTimeout(window.__heroRF);
      window.__heroRF = setTimeout(drawHero, 120);
    }, { passive: true });

    // Redraw if the logo box changes size due to responsive layout
    const ro = new ResizeObserver(() => {
      clearTimeout(window.__heroRO);
      window.__heroRO = setTimeout(drawHero, 60);
    });
    if (logo) ro.observe(logo);
  }

  // Call this right after you inject the hero into #hero-root
  // (If you followed my last file, add this at the end of the mount IIFE.)
  window.addEventListener('load', () => {
    // In case injection happens on load; small defer to ensure DOM is ready
    setTimeout(initHeroCanvas, 0);
  });
  </script>
</body>
</html>
